@{
	ViewData["Title"] = "Consulta";
	Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
	.content {
		padding: 0px 10px 2px 10px !important
	}
</style>

<div class="row" ng-controller='TablaTicket'>
	<!--<div id="div_url" urlLista="/Tickets/Lista"></div>-->
	<div class="col-md-12">
		<div class="card">
			<div class="card-header card-header-success card-header-icon">
				<div class="card-icon">
					<i class="material-icons">assignment</i>
				</div>
				<h4 class="card-title">Tickets</h4>
			</div>
			<div class="card-body">
				<div class="toolbar">
					<!-- Here you can write extra buttons/actions for the toolbar -->
				</div>
				<div class="material-datatables">
					<div id="datatables_wrapper" class="dataTables_wrapper dt-bootstrap4">
						<div class="row">
							<div class="col-sm-12 col-md-6 col-lg-6">
								<div class="dataTables_length" id="datatables_length">
									<label>
										Show
										<select name="datatables_length" aria-controls="datatables" class="custom-select custom-select-sm form-control form-control-sm">
											<option value="10">10</option>
											<option value="25">25</option>
											<option value="50">50</option>
											<option value="-1">All</option>
										</select> entries
									</label>
								</div>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6">
								<div id="datatables_filter" class="dataTables_filter">
									<label>
										<span class="bmd-form-group bmd-form-group-sm">
											<input ng-model="searchText" type="search" class="form-control form-control-sm" placeholder="Buscar Registros" aria-controls="datatables">
										</span>
									</label>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 ">
								<div class="table-responsive">
									<table class="table table-striped table-no-bordered table-hover">
										<thead class="text-primary">
											<tr role="row">
												<th>Número Ticket</th>
												<th>Proridad</th>
												<th>Fecha Creación</th>
												<th>Usuario</th>
												<th>Nombre Comp.</th>
												<th>Asignado A</th>
												<th>Estado </th>
												<th class=" td-actions text-right">Actions </th>
											</tr>
										</thead>
										<tfoot>
											<tr>
												<th>Número Ticket</th>
												<th>Prioridad</th>
												<th>Fecha Creacion</th>
												<th>Usuario</th>
												<th>Nombre Comp.</th>
												<th>Asignado a</th>
												<th>Estado</th>
												<th class="td-actions  text-right" rowspan="1" colspan="1">Actions</th>
											</tr>
										</tfoot>
										<tbody>
											<!--<tr ng-repeat="row in datos.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage)) | filter:searchText | orderBy:propertyName:reverse">-->
											<tr ng-repeat='row in usuarios | startFromGrid: currentPage * pageSize | filter: searchText | limitTo: pageSize' , ng-click='seleccionarUsuario(usuario.id)'>
												<td>
													{{ row.numero_Ticket }}
												</td>
												<td>
													{{ row.prioridad }}
												</td>
												<td>
													{{ row.fecha | date:'dd-MM-yyyy HH:mm:ss' }}
												</td>
												<td>
													{{ row.username }}
												</td>
												<td>
													{{ row.operador_Nombre_Completo }}
												</td>

												<td>
													{{ row.asignado_A }}
												</td>
												<td>
													{{ row.estadoServicio }}
												</td>
												<td class="td-actions text-right">

													<a role="button" href="/Tickets/Edit/{{ row.id }}" class="btn btn-success">
														<i class="material-icons">edit</i>
													</a>
													<a role="button" href="/Tickets/Delete/{{ row.id }}" class="btn btn-danger">
														<i class="material-icons">close</i>
													</a>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
						<div class='row '>

							<nav aria-label="...">
								<ul class="pagination">
									<li ng-disabled='currentPage == 0' ng-click='currentPage = currentPage - 1' class="page-item">
										<a class="page-link" href="#" tabindex="-1">Previous</a>
									</li>
									<li ng-disabled='currentPage == page.no - 1' ng-click='setPage(page.no)' ng-repeat='page in pages' class="page-item">
										<a class="page-link" href="#">{{page.no}}</a>
									</li>
									<li ng-disabled='currentPage >= usuarios.length/pageSize - 1' , ng-click='currentPage = currentPage + 1' class="page-item">
										<a class="page-link" href="#">Next</a>
									</li>
								</ul>
							</nav>
						</div>
					</div>
				</div>
				<!-- end content-->
			</div>
			<!--  end card  -->
		</div>
		<!-- end col-md-12 -->
	</div>
</div>

