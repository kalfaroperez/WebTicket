@{
	ViewData["Title"] = "Consulta";
	Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row" ng-controller='TablaTicket'>
	<!--<div id="div_url" urlLista="/Tickets/Lista"></div>-->
	<div class="col-md-12">
		<div class="card">
			<div class="card-header card-header-success card-header-icon">
				<div class="card-icon">
					<i class="material-icons">assignment</i>
				</div>
				<h4 class="card-title">Tickets</h4>
			</div>
			<div class="card-body">
				<div class="toolbar">
					<!-- Here you can write extra buttons/actions for the toolbar -->
				</div>
				<div class="material-datatables">
					<div id="datatables_wrapper" class="dataTables_wrapper dt-bootstrap4">
						<div class="row">

							<div class="col-sm-12 col-md-6 col-lg-6">
								<div class="form-group" id="datatables_length">
									<label class="col-md-6">
										Ver
										<select class="col-md-4 combobox_select2" aria-controls="datatables">
											<option value="10">10</option>
											<option value="25">25</option>
											<option value="50">50</option>
										</select>
										Registros
									</label>
								</div>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6">
								<div class="input-group no-border">
									<input type="text" ng-model="searchText" class="form-control" placeholder="Search...">
									<button type="submit" class="btn btn-white btn-round btn-just-icon">
										<i class="material-icons">search</i>
										<div class="ripple-container"></div>
									</button>
								</div>
							</div>
						</div>

						<div class="row">
							<div class="col-sm-12 ">
								<div class="table-responsive">
									<table class="table table-striped table-no-bordered table-hover">
										<thead class="text-primary">
											<tr role="row">
												<th>Número Ticket</th>
												<th>Proridad</th>
												<th>Fecha Creación</th>
												<th>Usuario</th>
												<th>Nombre Comp.</th>
												<th>Asignado A</th>
												<th>Estado </th>
												<th class="  text-right">Acciones </th>
											</tr>
										</thead>
										<tfoot>
											<tr>
												<th>Número Ticket</th>
												<th>Prioridad</th>
												<th>Fecha Creacion</th>
												<th>Usuario</th>
												<th>Nombre Comp.</th>
												<th>Asignado a</th>
												<th>Estado</th>
												<th class="td-actions  text-right" rowspan="1" colspan="1">Actions</th>
											</tr>
										</tfoot>
										<tbody id="tbody_index" style="display:none">
											<!--<tr ng-repeat="row in datos.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage)) | filter:searchText | orderBy:propertyName:reverse">-->
											<tr ng-repeat='row in usuarios | startFromGrid: currentPage * pageSize | filter: searchText | limitTo: pageSize' , ng-click='seleccionarUsuario(usuario.id)'>
												<td>
													<a class="text-black" href="/Tickets/Edit/{{ row.id }}">
														{{ row.numero_Ticket }}
													</a>
												</td>
												<td>
													{{ row.prioridad }}
												</td>
												<td>
													{{ row.fecha | date:'dd-MM-yyyy HH:mm:ss' }}
												</td>
												<td>
													{{ row.username }}
												</td>
												<td>
													{{ row.operador_Nombre_Completo }}
												</td>

												<td>
													{{ row.asignado_A }}
												</td>
												<td>
													{{ row.estadoServicio }}
												</td>
												<td class="td-actions text-right">

													<a role="button" href="/Tickets/Edit/{{ row.id }}" class="text-success">
														<i class="material-icons">edit</i>
													</a>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
						

						<div class='row '>
							<div class='col-md-12 btn-group btn-group-sm pagination justify-content-sm-end'>
								<button class='btn btn-default' ng-disabled='currentPage == 0' ng-click='currentPage = currentPage - 1'>&laquo;</button>
								<button class='btn btn-default' ng-disabled='currentPage == page.no - 1' ng-click='setPage(page.no)' ng-repeat='page in pages'>{{page.no}}</button>
								<button class='btn btn-default' ng-disabled='currentPage >= usuarios.length/pageSize - 1' , ng-click='currentPage = currentPage + 1'>&raquo;</button>
							</div>
						</div>
					</div>
				</div>
				<!-- end content-->
			</div>
			<!--  end card  -->
		</div>
		<!-- end col-md-12 -->
	</div>
	<!--Modal-->
	<div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				...
			</div>
		</div>
	</div>

</div>


